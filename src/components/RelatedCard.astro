---
// props
const { slug, heading } = Astro.props;
import articles from "@/data/articles"; // slug → title, intro に対応したリスト

const data = articles.find(a => a.slug === slug);
const title = data?.title || heading;
const intro = data?.intro || "";
const thumbPath = `/images/intro/${slug}.jpg`;
---

<div class="related-card mb-6 border border-[#EEE8E6] rounded-md">
  <div class="related-label text-white text-sm font-semibold px-4 py-2" style="background-color: #82A0AA;">
    {heading}
  </div>
  <a href={`/articles/${slug}/`} class="card-link flex gap-4 items-start no-underline p-4">
    <div class="w-full sm:w-[220px] aspect-[4/3] overflow-hidden rounded-md flex-shrink-0">
      <img
        src={thumbPath}
        alt={`${title} のサムネイル`}
        class="w-full h-full object-cover block"
        loading="lazy"
        decoding="async"
      />
    </div>
    <div class="flex flex-col justify-start w-full">
      <h2 class="text-xl font-bold text-[#6a6a6a] mb-2 break-jp break-words max-w-full overflow-hidden line-clamp-2 leading-snug">
        {title}
      </h2>
      <p class="text-sm text-[#888888] leading-snug line-clamp-3">
        {intro}
      </p>
    </div>
  </a>
</div>
